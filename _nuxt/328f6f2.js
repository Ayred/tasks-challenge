(window.webpackJsonp=window.webpackJsonp||[]).push([[7,5,6],{435:function(t,e,n){"use strict";n.r(e);var r=n(438),o=n(424),l=n(385),d=n(532),c=n(523),v=n(531),f=n(526),h=n(423),m=n(522),k=n(380),_=n(437),w=n(527),y=(n(15),n(56),n(41),n(7),n(49),n(50),n(261),{data:function(){return{readOnlyMode:!0,showNewTask:!1,saving:!1,task:{},rules:{required:function(t){return!!String(t)||"Este campo es requerido"}}}},methods:{show:function(t){var e=this;this.$refs.taskForm&&this.$refs.taskForm.reset(),this.showNewTask=!0,this.task={token:"ayred",title:"",is_completed:"",due_date:"",comments:"",description:"",tags:""},this.readOnlyMode=!1,t?this.$axios.get("/vdev/tasks-challenge/tasks/".concat(t,"?token=").concat("ayred")).then((function(t){if(t&&200==t.status)return e.readOnlyMode=!0,e.showNewTask=!0,void(e.task=t.data[0])})):this.showNewTask=!0},submit:function(){this.$refs.taskForm&&this.$refs.taskForm.validate()&&(this.task.id?this.update():this.create(),this.saving=!0,this.$refs.taskForm.reset())},create:function(){var t=this;this.$axios.post("/vdev/tasks-challenge/tasks",this.taskParams).then((function(e){t.refreshTasks(e)})).finally((function(){t.saving=!1}))},update:function(){var t=this;this.$axios.put("/vdev/tasks-challenge/tasks/".concat(this.task.id),this.taskParams).then((function(e){t.refreshTasks(e)})).finally((function(){t.saving=!1}))},refreshTasks:function(t){201==t.status?(this.$store.commit("updateRefreshTasks",!0),this.showNewTask=!1):alert(t.data.detail,{title:"AVISO"})}},computed:{taskParams:function(){var t=new URLSearchParams;for(var e in this.task)t.append(e,this.task[e]);return t},title:function(){return this.task.id?this.readOnlyMode?"Tarea #".concat(this.task.id):"Editar Tarea #".concat(this.task.id):"Nueva Tarea"}}}),O=n(85),component=Object(O.a)(y,(function(){var t=this,e=t._self._c;return e("div",[e(v.a,{attrs:{width:"800",persistent:""},model:{value:t.showNewTask,callback:function(e){t.showNewTask=e},expression:"showNewTask"}},[e(o.a,{attrs:{shaped:""}},[e(l.c,{staticClass:"secondary py-1 px-1"},[e("div",{staticClass:"mx-2"},[t._v(t._s(t.title))]),t._v(" "),e(k.a),t._v(" "),e(r.a,{staticClass:"ma-0 pa-0",attrs:{text:"",fab:"","x-small":"",disabled:t.saving},on:{click:function(e){t.showNewTask=!1}}},[e(h.a,{attrs:{small:"",color:"white"}},[t._v("mdi-close")])],1)],1),t._v(" "),e(f.a,{ref:"taskForm",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e(l.b,[e("div",{staticClass:"px-3"},[e(m.a,[e(c.a,{staticClass:"pb-0"},[e(_.a,{attrs:{rules:[t.rules.required],rounded:"",outlined:"",dense:"",label:"Título",disabled:t.readOnlyMode},model:{value:t.task.title,callback:function(e){t.$set(t.task,"title",e)},expression:"task.title"}})],1),t._v(" "),e(c.a,{staticClass:"pa-0 pb-0",attrs:{cols:"12",sm:"6",md:"3"}},[e(d.a,{attrs:{label:1==t.task.is_completed?"Completada":"No Completada","false-value":0,"true-value":1,color:"orange",disabled:t.readOnlyMode},model:{value:t.task.is_completed,callback:function(e){t.$set(t.task,"is_completed",e)},expression:"task.is_completed"}})],1)],1),t._v(" "),e(m.a,[e(c.a,{staticClass:"pb-0",attrs:{cols:"12",sm:"6",md:"3"}},[e(_.a,{attrs:{rules:[t.rules.required],rounded:"",outlined:"",dense:"",type:"date",label:"Fecha límite",disabled:t.readOnlyMode},model:{value:t.task.due_date,callback:function(e){t.$set(t.task,"due_date",e)},expression:"task.due_date"}})],1),t._v(" "),e(c.a,{staticClass:"pb-0"},[e(_.a,{attrs:{rules:[t.rules.required],rounded:"",outlined:"",dense:"",label:"Comentarios",disabled:t.readOnlyMode},model:{value:t.task.comments,callback:function(e){t.$set(t.task,"comments",e)},expression:"task.comments"}})],1)],1),t._v(" "),e(m.a,[e(c.a,{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[e(w.a,{attrs:{rules:[t.rules.required],outlined:"",rounded:"",label:"Descripción",disabled:t.readOnlyMode},model:{value:t.task.description,callback:function(e){t.$set(t.task,"description",e)},expression:"task.description"}})],1),t._v(" "),e(c.a,{staticClass:"pb-0"},[e(_.a,{attrs:{rules:[t.rules.required],rounded:"",outlined:"",dense:"",label:"Etiquetas",disabled:t.readOnlyMode},model:{value:t.task.tags,callback:function(e){t.$set(t.task,"tags",e)},expression:"task.tags"}})],1)],1)],1)]),t._v(" "),e(l.a,[e(r.a,{directives:[{name:"show",rawName:"v-show",value:t.readOnlyMode,expression:"readOnlyMode"}],attrs:{color:"secondary",depressed:"",rounded:"",type:"button",disabled:t.saving},on:{click:function(e){t.readOnlyMode=!1}}},[t._v("Editar Tarea")]),t._v(" "),e(k.a),t._v(" "),e(r.a,{directives:[{name:"show",rawName:"v-show",value:!t.readOnlyMode,expression:"!readOnlyMode"}],attrs:{color:"default",depressed:"",rounded:"",type:"button",disabled:t.saving},on:{click:function(e){t.showNewTask=!1}}},[t._v("Cancelar")]),t._v(" "),e(r.a,{directives:[{name:"show",rawName:"v-show",value:!t.readOnlyMode,expression:"!readOnlyMode"}],attrs:{color:"secondary",depressed:"",rounded:"",type:"submit",disabled:t.saving}},[t._v("Confirmar")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},436:function(t,e,n){"use strict";n.r(e);var r=n(438),o=n(424),l=n(385),d=n(523),c=n(531),v=n(526),f=n(423),h=n(522),m=n(380),k=(n(7),n(41),{data:function(){return{showDeleteConfirmation:!1,title:"Confirmación",saving:!1,id:null}},methods:{show:function(t){this.showDeleteConfirmation=!0,this.id=t},deleteTask:function(){var t=this;this.id&&(this.$axios.delete("/vdev/tasks-challenge/tasks/".concat(this.id,"?token=").concat("ayred")).then((function(e){console.log(e),201==e.status?(t.$store.commit("updateRefreshTasks",!0),t.showDeleteConfirmation=!1):alert(e.data.detail,{title:"AVISO"})})).finally((function(){t.saving=!1})),this.saving=!0)}}}),_=n(85),component=Object(_.a)(k,(function(){var t=this,e=t._self._c;return e("div",[e(c.a,{attrs:{width:"600",persistent:""},model:{value:t.showDeleteConfirmation,callback:function(e){t.showDeleteConfirmation=e},expression:"showDeleteConfirmation"}},[e(o.a,{attrs:{shaped:""}},[e(l.c,{staticClass:"secondary py-1 px-1"},[e("div",{staticClass:"mx-2"},[t._v(t._s(t.title))]),t._v(" "),e(m.a),t._v(" "),e(r.a,{staticClass:"ma-0 pa-0",attrs:{text:"",fab:"","x-small":"",disabled:t.saving},on:{click:function(e){t.showDeleteConfirmation=!1}}},[e(f.a,{attrs:{small:"",color:"white"}},[t._v("mdi-close")])],1)],1),t._v(" "),e(v.a,{ref:"deleteView",on:{submit:function(e){return e.preventDefault(),t.deleteTask.apply(null,arguments)}}},[e(l.b,[e("div",{staticClass:"px-3"},[e(h.a,[e(d.a,[e("h3",[t._v("\n                  ¿Estas seguro de que quieres borrar la tarea #"+t._s(t.id)+"?\n                ")])])],1)],1)]),t._v(" "),e(l.a,[e(m.a),t._v(" "),e(r.a,{attrs:{color:"default",depressed:"",rounded:"",type:"button",disabled:t.saving},on:{click:function(e){t.showDeleteConfirmation=!1}}},[t._v("Cancelar")]),t._v(" "),e(r.a,{attrs:{color:"secondary",depressed:"",rounded:"",type:"submit",disabled:t.saving}},[t._v("Confirmar")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},530:function(t,e,n){"use strict";n.r(e);var r=n(438),o=n(424),l=n(385),d=n(523),c=n(528),v=n(423),f=n(522),h=n(525),m=(n(16),n(15),n(21),n(7),n(29),n(22),n(30),n(4)),k=n(118);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var w={data:function(){return{headers:[{text:"No. Tarea",value:"id",align:"start"},{text:"Título",value:"title"},{text:"Estado",value:"is_completed"},{text:"Fecha Límite",value:"due_date"},{text:"Acciones",value:"actions",sortable:!1}],tasks:[]}},created:function(){this.initialize()},watch:{refreshTasks:function(t){t&&(this.initialize(),this.$store.commit("updateRefreshTasks",!1))}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(m.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(k.b)(["refreshTasks"])),methods:{initialize:function(){var t=this;this.tasks=[],this.$axios.$get("/vdev/tasks-challenge/tasks?token=ayred").then((function(e){t.tasks=e}))},newTask:function(){this.$refs.taskFormView.show()},taskDetails:function(t){this.$refs.taskFormView.show(t.id)},deleteTask:function(t){this.$refs.deleteView.show(t.id)},isCompleted:function(t){return 1==t?"Completada":"No completada"}}},y=w,O=n(85),component=Object(O.a)(y,(function(){var t=this,e=t._self._c;return e(f.a,{attrs:{justify:"center",align:"center"}},[e(d.a,{attrs:{cols:"12"}},[e(f.a,[e(d.a,[e("h2",[t._v("Listado de Tareas")])]),t._v(" "),e(d.a,{staticClass:"text-right"},[e(r.a,{attrs:{rounded:"",depressed:"",color:"secondary"},on:{click:function(e){return t.newTask()}}},[e(v.a,{attrs:{small:""}},[t._v("mdi-plus")]),t._v("\n            Agregar nueva\n        ")],1)],1)],1),t._v(" "),e(f.a,[e(d.a,[e(o.a,[e(l.b,[[e(c.a,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.tasks},scopedSlots:t._u([{key:"item.is_completed",fn:function(n){var r=n.item;return[e("span",[t._v(t._s(t.isCompleted(r.is_completed)))])]}},{key:"item.actions",fn:function(n){var r=n.item;return[e(h.a,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(v.a,t._g(t._b({staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.taskDetails(r)}}},"v-icon",l,!1),o),[t._v("\n                        mdi-eye\n                      ")])]}}],null,!0)},[t._v(" "),e("span",[t._v("Detalles de Tarea")])]),t._v(" "),e(h.a,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(v.a,t._g(t._b({staticClass:"mx-2",attrs:{small:""},on:{click:function(e){return t.deleteTask(r)}}},"v-icon",l,!1),o),[t._v("\n                        mdi-trash-can\n                      ")])]}}],null,!0)},[t._v(" "),e("span",[t._v("Borrar Tarea")])])]}}],null,!0)})]],2)],1)],1)],1)],1),t._v(" "),e("task-form",{ref:"taskFormView"}),t._v(" "),e("delete-confirmation",{ref:"deleteView"})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TaskForm:n(435).default,DeleteConfirmation:n(436).default})}}]);